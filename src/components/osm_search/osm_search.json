{
  "query": "[out:json][timeout:60];\n\n/* 1) Residential and minor roads */\nway[\"highway\"~\"^(residential|unclassified|service)$\"](poly:\"{poly_string}\")->.roads;\n\n/* 2) Footpaths within the green area */\nway[\"highway\"~\"^(footway|path)$\"](poly:\"{poly_string}\")->.paths;\n\n/* 3) Residential buildings */\nway[\"building\"~\"^(house|residential)$\"](poly:\"{poly_string}\")->.buildings;\n\n/* 4) Park and grassland areas */\nway[\"leisure\"=\"park\"](poly:\"{poly_string}\")->.parks;\nway[\"landuse\"=\"grass\"](poly:\"{poly_string}\")->.parks;\n\n/* 5) Wooded areas */\nway[\"natural\"=\"wood\"](poly:\"{poly_string}\")->.woods;\nway[\"landuse\"=\"forest\"](poly:\"{poly_string}\")->.woods;\n\n/* 6) Parking amenities */\nway[\"amenity\"=\"parking\"](poly:\"{poly_string}\")->.parking;\n\n/* 7) Intersections between roads and paths */\nnode(w.roads)(w.paths)->.crossings;\n\n/* Return all collected features with full geometry */\n(.roads; .paths; .buildings; .parks; .woods; .parking; .crossings;);\nout body geom;"
}